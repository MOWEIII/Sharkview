<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="AutoRenderer.App"
             xmlns:local="using:AutoRenderer"
             RequestedThemeVariant="Dark">

    <Application.DataTemplates>
        <local:ViewLocator/>
    </Application.DataTemplates>
  
    <Application.Resources>
        <!-- Modern Dark Theme Palette -->
        <Color x:Key="AppBackgroundColor">#181818</Color>
        <Color x:Key="SurfaceColor">#202020</Color>
        <Color x:Key="SurfaceLightColor">#2D2D30</Color>
        <Color x:Key="BorderColor">#3E3E42</Color>
        <Color x:Key="AccentColor">#007ACC</Color>
        <Color x:Key="AccentHoverColor">#1C97EA</Color>
        <Color x:Key="TextPrimaryColor">#E8E8E8</Color>
        <Color x:Key="TextSecondaryColor">#999999</Color>

        <SolidColorBrush x:Key="AppBackgroundBrush" Color="{StaticResource AppBackgroundColor}"/>
        <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource SurfaceColor}"/>
        <SolidColorBrush x:Key="SurfaceLightBrush" Color="{StaticResource SurfaceLightColor}"/>
        <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}"/>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource TextPrimaryColor}"/>
        <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource TextSecondaryColor}"/>
        
        <CornerRadius x:Key="SmallCornerRadius">4</CornerRadius>
        <CornerRadius x:Key="MediumCornerRadius">6</CornerRadius>
    </Application.Resources>

    <Application.Styles>
        <FluentTheme />
        
        <!-- Global Text Style -->
        <Style Selector="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI, Inter, Helvetica Neue, Arial"/>
        </Style>

        <!-- Modern Card Style -->
        <Style Selector="Border.Card">
            <Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="{DynamicResource MediumCornerRadius}"/>
            <Setter Property="Padding" Value="12"/>
        </Style>

        <!-- Modern Button -->
        <Style Selector="Button">
            <Setter Property="Background" Value="{DynamicResource SurfaceLightBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="{DynamicResource SmallCornerRadius}"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.1"/>
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.1"/>
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#3E3E42"/>
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="Button:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Opacity" Value="0.8"/>
        </Style>

        <!-- Primary Button Variant -->
        <Style Selector="Button.Primary">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="Button.Primary:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentHoverColor}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource AccentHoverColor}"/>
        </Style>

        <!-- Navigation Button Style (Transparent until hover) -->
        <Style Selector="Button.Nav">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="{DynamicResource SmallCornerRadius}"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}"/>
        </Style>
        <Style Selector="Button.Nav:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource SurfaceLightBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
        </Style>
        
        <!-- TextBox Style -->
        <Style Selector="TextBox">
            <Setter Property="Background" Value="#111111"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="{DynamicResource SmallCornerRadius}"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="SelectionBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>
        <Style Selector="TextBox:focus /template/ Border#PART_BorderElement">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Background" Value="Black"/>
        </Style>

        <!-- ComboBox Style -->
        <Style Selector="ComboBox">
            <Setter Property="Background" Value="#111111"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="{DynamicResource SmallCornerRadius}"/>
            <Setter Property="Padding" Value="10,6"/>
        </Style>

        <!-- ListBoxItem Style -->
        <Style Selector="ListBoxItem">
            <Setter Property="CornerRadius" Value="{DynamicResource SmallCornerRadius}"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Margin" Value="0,2"/>
        </Style>
        <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource SurfaceLightBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

    </Application.Styles>
</Application>